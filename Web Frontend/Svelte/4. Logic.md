# Logic

## If Blocks

- HTMLì€ ì¡°ê±´ë¬¸, loop ë“± logicì„ í‘œí˜„í•˜ëŠ” ë°©ì‹ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ svelteëŠ” ì´ë¥¼ ì§€ì›í•œë‹¤.

- íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±ì‹œì¼°ì„ ë•Œë§Œ markupì„ ë Œë”ë§í•˜ê³  ì‹¶ë‹¤ë©´, `if` blockìœ¼ë¡œ ê°ì‹¸ì£¼ë©´ ëœë‹¤.

```svelte
<script>
	let user = { loggedIn: false };

	function toggle() {
		user.loggedIn = !user.loggedIn;
	}
</script>

{#if user.loggedIn}
<button on:click={toggle}>
	Log out
</button>
{/if}

{#if !user.loggedIn}
<button on:click={toggle}>
	Log in
</button>
{/if}
```

---

## Else Blocks

- ìœ„ ì˜ˆì‹œì—ì„œ `if user.loggedIn`ê³¼ `!if user.loggedIn`ì€ ì„œë¡œ ìƒë°˜ë˜ëŠ” ì¡°ê±´ì´ë‹¤. ì´ëŸ° ì¡°ê±´ë“¤ì€ `else` blockìœ¼ë¡œ ë‹¨ìˆœí•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```svelte
<script>
	let user = { loggedIn: false };

	function toggle() {
		user.loggedIn = !user.loggedIn;
	}
</script>

{#if user.loggedIn}
	<button on:click={toggle}>
		Log out
	</button>

{:else}
	<button on:click={toggle}>
		Log in
	</button>
{/if}
```

- ìœ„ ì˜ˆì œ ì½”ë“œë“¤ì—ì„œ ì‚¬ìš©í•œ íŠ¹ìˆ˜ ë¬¸ìë“¤ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ì.
  - **`#`ëŠ” í•­ìƒ blockì„ ìƒì„±(open)í•˜ëŠ” ë°ì— ì‚¬ìš©ëœë‹¤.**
  - **`/`ëŠ” í•­ìƒ blockì„ ë‹«ëŠ”(closing) ë°ì— ì‚¬ìš©ëœë‹¤.**
  - **`:`ëŠ” block continuation tagë¡œ, blockì— ëŒ€í•œ ì¶”ê°€ì ì¸ ì‘ì—…ì„ í•  ë•Œ ì‚¬ìš©í•œë‹¤.**

---

## Else-If Blocks

- ì—¬ëŸ¬ ê°œì˜ ì¡°ê±´ë“¤ì€ `else if`ë¡œ chainingë  ìˆ˜ ìˆë‹¤.

```svelte
<!-- Chaining ì „ -->
<script>
	let x = 7;
</script>

{#if x > 10}
	<p>{x} is greater than 10</p>
{:else}
	{#if 5 > x}
		<p>{x} is less than 5</p>
	{:else}
		<p>{x} is between 5 and 10</p>
	{/if}
{/if}

<!-- Chaining í›„ -->
<script>
	let x = 7;
</script>

{#if x > 10}
	<p>{x} is greater than 10</p>
{:else if 5 > x}
	<p>{x} is less than 5</p>
{:else}
	<p>{x} is between 5 and 10</p>
{/if}
```

---

## Each Blocks

- ë°ì´í„°ë“¤ì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ê³  ì‹¶ì„ ë•Œ `each` blockì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```svelte
<script>
	let cats = [
		{ id: 'Cat1', name: 'Name of Cat1' },
		{ id: 'Cat2', name: 'Name of Cat2' },
		{ id: 'Cat3', name: 'Name of Cat3' }
	];
</script>

<h1>The Famous Cats of YouTube</h1>

<ul>
	{#each cats as cat}
		<li><a target="_blank" href="https://www.youtube.com/watch?v={cat.id}">
			{cat.name}
		</a></li>
	{/each}
</ul>
```

- ìœ„ í‘œí˜„ì‹ì—ì„œ ì“°ì¸ cats ë³€ìˆ˜ëŠ” `length` propertyë¥¼ ê°–ëŠ” ë°°ì—´ê³¼ ê°™ì€ ëª¨ë“  ìë£Œêµ¬ì¡°ì— ëŒ€í•´ ì ìš© ê°€ëŠ¥í•˜ë‹¤.  
  ë˜í•œ ì•„ë˜ì²˜ëŸ¼ ìˆœíšŒí•˜ëŠ” ë°ì´í„°ì˜ indexë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆë‹¤.

```svelte
<ul>
	{#each cats as cat, i}
		<li><a target="_blank" href="https://www.youtube.com/watch?v={cat.id}">
			{cat.name}(index: {i + 1})
		</a></li>
	{/each}
</ul>
```

- ë˜í•œ ì•„ë˜ì²˜ëŸ¼ ë¹„êµ¬ì¡°í™” êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ë¹„êµ¬ì¡°í™”í•  ìˆ˜ë„ ìˆë‹¤.

```svelte
<ul>
	{#each cats as { id, name }, i}
		<li><a target="_blank" href="https://www.youtube.com/watch?v={id}">
			{i + 1}: {name}
		</a></li>
	{/each}
</ul>
```

---

## Keyed Each Blocks

- ê¸°ë³¸ì ìœ¼ë¡œ `each` blockì˜ ë°ì´í„°ë“¤ì„ ìˆ˜ì •í•˜ë©´, svelteëŠ” ì•„ì´í…œì„ _blockì˜ ë_ ì—ì„œ addí•˜ê±°ë‚˜ removeí•œë‹¤.

- ì´ëŸ° ê¸°ë³¸ ë°©ì‹ì„ ì´í•´í•˜ê¸° ìœ„í•´ ì•„ë˜ ì½”ë“œë¥¼ ë³´ì.

```svelte
<!-- Thing.svelte -->
<script>
	const emojis = {
        apple: "ğŸ",
        banana: "ğŸŒ",
        carrot: "ğŸ¥•",
        doughnut: "ğŸ©",
        egg: "ğŸ¥š"
	}

	// the name is updated whenever the prop value changes...
	export let name;

	// ...but the "emoji" variable is fixed upon initialisation of the component
	const emoji = emojis[name];
</script>

<p>
	<span>The emoji for { name } is { emoji }</span>
</p>

<style>
	p {
		margin: 0.8em 0;
	}
	span {
		display: inline-block;
		padding: 0.2em 1em 0.3em;
		text-align: center;
		border-radius: 0.2em;
		background-color: #FFDFD3;
	}
</style>

<!-- App.svelte -->
<script>
	import Thing from './Thing.svelte';

	let things = [
		{ id: 1, name: 'apple' },
		{ id: 2, name: 'banana' },
		{ id: 3, name: 'carrot' },
		{ id: 4, name: 'doughnut' },
		{ id: 5, name: 'egg' },
	];

	function handleClick() {
		things = things.slice(1);
	}
</script>

<button on:click={handleClick}>
	Remove first thing
</button>

{#each things as thing}
	<Thing name={thing.name}/>
{/each}
```

- ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì²˜ìŒì—ëŠ” 5ê°œì˜ `Thing`ì´ ìˆë‹¤. ë²„íŠ¼ì„ í´ë¦­í•´ `Thing`ì„ ì§€ì›Œë‚˜ê°€ë©´ propìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” apple, banana, carrot ë“±ì€  
  ì •ìƒì ìœ¼ë¡œ ì§€ì›Œì§€ì§€ë§Œ, `Thing` ë‚´ì—ì„œ ê³ ì •ëœ emoji ë“¤ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ëœë‹¤.

- ìœ„ì™€ ê°™ì€ ì¼ì´ ì¼ì–´ë‚œ ì´ìœ ëŠ” **`Thing` ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë§ˆì§€ë§‰ DOM Nodeë¥¼ ì§€ìš°ëŠ” ê²ƒì´ê¸° ë•Œë¬¸** ì´ë‹¤.

- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `Thing` ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ Unique identifier(ê³ ìœ  ì‹ë³„ì)ë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.  
  ì‹ë³„ì ë¶€ì—¬ëŠ” ì•„ë˜ì²˜ëŸ¼ í•œë‹¤.

```svelte
{#each things as thing (thing.id)}
	<Thing name={thing.name}/>
{/each}
```

- ìœ„ ì½”ë“œì—ì„œ `(thing.id)`ê°€ key(unique identifier)ê°€ ë˜ì–´ svelteì—ê²Œ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì–´ë–¤ DOM Nodeë¥¼ ë°”ê¿€ì§€ ì•Œë¦¬ê²Œ ëœë‹¤.  
  ì°¸ê³ ë¡œ ì•„ë˜ì²˜ëŸ¼ ë‹¹ì—°íˆ indexì™€ í•¨ê»˜ë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

```svelte
{#each things as thing, index (thing.id)}
	<Thing name={thing.name} index={index}/>
{/each}
```

---

## Await Blocks

- ë‚´ë¶€ë¶„ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.  
  SvelteëŠ” `Promise`ì˜ ë°ì´í„°ë“¤ì„ ì‰½ê²Œ markupì—ì„œ awaití•  ìˆ˜ ìˆë„ë¡ ê°„í¸í•œ ë¬¸ë²•ì„ ì§€ì›í•œë‹¤.

```svelte
{#await promise}
	<p>..waiting</p>
{:then number}
	<p>The number is {number}</p>
{:catch error}
	<p style="color: red">{error.message}</p>
{/await}
```

- ìœ„ ì½”ë“œëŠ” promiseì˜ ìƒíƒœê°€ Pendingì¼ ë•Œ "..waiting"ì„ ì¶œë ¥í•˜ê³ , ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´ `:then`ìœ¼ë¡œ ë„˜ì–´ê°€ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê³ ,  
  ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ `:catch`ë¡œ ë„˜ì–´ê°€ ì—ëŸ¬ë¥¼ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ì¶œë ¥í•œë‹¤.

- ë§Œì•½ promiseê°€ ì ˆëŒ€ ì‹¤íŒ¨í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ í™•ì‹ í•œë‹¤ë©´, `:catch` blockì€ ì œê±°í•´ë„ ëœë‹¤.  
  Promiseê°€ resolve ë  ë•Œê¹Œì§€ ì•„ë¬´ëŸ° ì•¡ì…˜ë„ ì·¨í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ `#await`ì™€ `:then`ì„ ì•„ë˜ì²˜ëŸ¼ í•˜ë‚˜ë¡œ í•©ì³ë„ ëœë‹¤.

```svelte
<!-- Catch block is omittable. -->
{#await promise then value}
	<p>The number is {value}</p>
{:catch error}
	<p style="color: red">{error.message}</p>
{/await}
```

---
