# DSL 만들기

- Internal DSL은 여러 메소드 호출로 구성된 구조를 더 쉽게 표현할 수 있게 해주는 API를 설계할 때 사용할 수 있는 패턴이다.

- 수신 객체 지정 람다는 람다 본문 안에서 메소드를 결정하는 방식을 재정의함으로써 여러 요소를 중첩시킬 수 있는 구조를 만들 수 있다.

- 수신 객체 지정 람다를 파라미터로 받은 경우, 그 람다의 타입은 확장 함수 타입이다. 람다를 파라미터로 받아서 사용하는 함수는  
  람다를 호출하면서 람다에 수신 객체를 제공한다.

- 외부 template이나 markup 언어 대신 Kotlin Internal DSL을 사용하면 코드를 추상화하거나 재활용할 수 있다.

- 중위 호출 인자로 특별히 이름을 붇인 객체를 사용하면, 특수 기호를 사용하지 않는 실제 영어처럼 보이는 DSL을 만들 수 있다.

- Primitive type에 대한 확장을 정의하면 날짜 등의 여러 종류의 상수를 더 읽기 좋게 만들 수 있다.

- `invoke()` 관례를 사용하면 객체를 함수처럼 다룰 수 있다.

- `kotlinx.html` 라이브러리는 HTML 페이지를 생성하기 위한 Internal DSL을 제공한다.  
  그 internal DSL을 확장하면 여러 프론트엔드 개발 프레임워크를 지원하게 만들 수 있다.

- `Kotlintest` 라이브러리는 단위 테스트에서 읽기 쉬운 assertion을 지원하는 Internal DSL을 제공한다.

- `Exposed` 라이브러리는 데이터베이스를 다루기 위한 Internal DSL을 제공한다.

---
